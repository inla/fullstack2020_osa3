{"version":3,"sources":["components/Filter.js","components/Person.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","handleSearchChange","newSearch","onSubmit","value","onChange","Person","person","removePerson","name","number","onClick","Persons","personsToShow","map","key","id","baseUrl","axios","get","then","response","data","newObject","post","put","delete","Notification","message","className","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","setNewSearch","errorMessage","infoMessage","useEffect","personService","initialPersons","filter","includes","event","console","log","target","preventDefault","personObject","find","window","confirm","returnedPerson","setTimeout","concat","type","p","alert","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.29121637.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({handleSearchChange}, {newSearch}) => {\r\n  return (\r\n    <form onSubmit={handleSearchChange}>\r\n      filter with\r\n      <input\r\n        value={newSearch}\r\n        onChange={handleSearchChange}\r\n      />          \r\n    </form>   \r\n  )\r\n}\r\n\r\nexport default Filter\r\n","import React from 'react'\r\n\r\nconst Person = ({ person, removePerson }) => {\r\n  return (\r\n    <div>\r\n      {person.name} {person.number}\r\n      <button onClick={removePerson}>delete</button>\r\n    </div>\r\n  )\r\n}\r\n \r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst Persons = ({ personsToShow, removePerson }) => {\r\n    return (\r\n        personsToShow.map(person =>\r\n            <Person\r\n                key={person.name}\r\n                person={person}\r\n                removePerson={() => removePerson(person.id)}\r\n            />\r\n        )\r\n    )\r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = 'http://localhost:3001/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, remove }","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className=\"error\">\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default Notification","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport Persons from './components/Persons'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([\n    // { name: 'Arto Hellas', number: '040-123456' },\n    // { name: 'Ada Lovelace', number: '39-44-5323523' },\n    // { name: 'Dan Abramov', number: '12-43-234345' },\n    // { name: 'Mary Poppendieck', number: '39-23-6423122' }\n  ])\n\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newSearch, setNewSearch] = useState('')\n  const [errorMessage, setErrorMessage] = useState(null)\n  const [infoMessage, setinfoMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    console.log('button clicked', event.target)\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n    if (persons.find(person => person.name === newName)) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        personService\n          .update(persons.find(person => person.name === newName).id, personObject)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => person.name !== newName ? person : returnedPerson))\n            setNewName('')\n            setNewNumber('')\n            //setInfoMessage(`${newName} updated`)\n            setTimeout(() => {\n            //setInfoMessage(null)\n            }, 5000)\n          })\n          //.catch(error)\n          //window.alert(`${newName}'s phone number was updated.`)\n      }\n    } else {\n      personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNewName('')\n          setNewNumber('')\n        })\n    }\n\n  }\n\n  const removePerson = (id) => {\n    //event.preventDefault()\n\n    if (window.confirm(`Do you want to delete this person from phonebook?`)) {\n      personService\n        .remove(id)\n        .then(initialPersons => {\n          setPersons(persons.filter(p => p.id !== id))\n        })\n        window.alert(`Person deleted.`)\n    }\n  }\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearchChange = (event) => {\n    console.log(event.target.value)\n    setNewSearch(event.target.value)\n  }\n\n  const personsToShow = persons.filter(person => (person.name.includes(newSearch)))\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={errorMessage} />\n      <Notification message={infoMessage} />\n      <div>\n        {<Filter newSearch={newSearch} handleSearchChange={handleSearchChange} />}\n      </div>\n      <h3>add a new</h3>\n      <form onSubmit={addPerson}>\n        <div>\n          name:\n          <input\n            value={newName}\n            onChange={handleNameChange}\n          />\n        </div>\n        <div>\n          number:\n          <input\n            value={newNumber}\n            onChange={handleNumberChange}\n          />\n        </div>\n        <button type=\"submit\">add</button>\n      </form>\n      <h2>Numbers</h2>\n      <ul>\n        {<Persons personsToShow={personsToShow}\n          removePerson={removePerson}\n        />}\n      </ul>\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}